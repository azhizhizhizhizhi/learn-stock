# Aè‚¡å‹ç¼©å›¾åˆ†æå·¥å…·

ä¸€ä¸ªåŸºäº React + Canvas çš„è‚¡ç¥¨å¯è§†åŒ–åˆ†æå·¥å…·ï¼Œä½¿ç”¨ç‹¬ç‰¹çš„"é‡ä»·ç»“åˆå›¾"æ–¹å¼å±•ç¤ºè‚¡ç¥¨Kçº¿æ•°æ®ï¼Œèœ¡çƒ›çš„å®½åº¦ä»£è¡¨æˆäº¤é¢å¤§å°ï¼Œé«˜åº¦ä»£è¡¨ä»·æ ¼åŒºé—´ã€‚

![React](https://img.shields.io/badge/React-19-blue)
![TypeScript](https://img.shields.io/badge/TypeScript-5-blue)
![Vite](https://img.shields.io/badge/Vite-6-purple)
![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-v4-cyan)

---

## ç›®å½•

- [åŠŸèƒ½ç‰¹ç‚¹](#åŠŸèƒ½ç‰¹ç‚¹)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [ä½¿ç”¨è¯´æ˜](#ä½¿ç”¨è¯´æ˜)
- [å‹ç¼©å›¾è¯´æ˜](#å‹ç¼©å›¾è¯´æ˜)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [APIè¯´æ˜](#apiè¯´æ˜)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ” **å…¨å¸‚åœºæœç´¢** - æ”¯æŒè¾“å…¥è‚¡ç¥¨ä»£ç æˆ–åç§°æœç´¢Aè‚¡å¸‚åœºæ‰€æœ‰è‚¡ç¥¨
- ğŸ“Š **å‹ç¼©å›¾å¯è§†åŒ–** - ç‹¬ç‰¹çš„æˆäº¤é‡åŠ æƒKçº¿å›¾ï¼Œç›´è§‚å±•ç¤ºä»·æ ¼ä¸æˆäº¤é¢å…³ç³»
- ğŸ“ˆ **çœŸå®æ•°æ®** - æ•°æ®æ¥æºäºä¸œæ–¹è´¢å¯Œç½‘APIï¼Œå®æ—¶è·å–
- ğŸ–±ï¸ **äº¤äº’ä½“éªŒ** - æ”¯æŒç¼©æ”¾ã€æ»šåŠ¨æµè§ˆã€æ‚¬æµ®æŸ¥çœ‹è¯¦æƒ…ç­‰äº¤äº’åŠŸèƒ½
- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…ä¸åŒå±å¹•å°ºå¯¸

### å›¾è¡¨ç‰¹æ€§

| è§†è§‰å…ƒç´  | ä»£è¡¨å«ä¹‰ |
|---------|---------|
| èœ¡çƒ›å®½åº¦ | æˆäº¤é¢å¤§å°ï¼ˆå®½=æˆäº¤æ´»è·ƒï¼‰ |
| èœ¡çƒ›é«˜åº¦ | ä»·æ ¼åŒºé—´ï¼ˆæœ€é«˜-æœ€ä½ï¼‰ |
| çº¢è‰²èƒŒæ™¯ | ä¸Šæ¶¨æ—¥ï¼ˆæ”¶ç›˜ > å¼€ç›˜ï¼‰ |
| ç»¿è‰²èƒŒæ™¯ | ä¸‹è·Œæ—¥ï¼ˆæ”¶ç›˜ < å¼€ç›˜ï¼‰ |
| é»„è‰²æ¨ªçº¿ | å¼€ç›˜ä»·ä½ç½® |
| è“è‰²æ¨ªçº¿ | æ”¶ç›˜ä»·ä½ç½® |
| é»‘è‰²ç«–çº¿ | èœ¡çƒ›å†…éƒ¨çº¹ç† |

### æ‚¬æµ®æç¤ºä¿¡æ¯

é¼ æ ‡æ‚¬åœåœ¨èœ¡çƒ›ä¸Šå¯æŸ¥çœ‹ï¼š
- å¼€ç›˜ä»·ã€æ”¶ç›˜ä»·ã€æœ€é«˜ä»·ã€æœ€ä½ä»·
- æ¶¨è·Œå¹…ã€æ¶¨è·Œé¢
- æˆäº¤é‡ã€æˆäº¤é¢
- æ¢æ‰‹ç‡

---

## æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|-----|------|-----|
| React | 19.x | å‰ç«¯æ¡†æ¶ |
| TypeScript | 5.x | ç±»å‹å®‰å…¨ |
| Vite | 6.x | æ„å»ºå·¥å…· |
| Tailwind CSS | 4.x | æ ·å¼æ¡†æ¶ |
| Canvas API | - | å›¾è¡¨ç»˜åˆ¶ |

---

## ç¯å¢ƒè¦æ±‚

### å¿…éœ€ç¯å¢ƒ

| è½¯ä»¶ | æœ€ä½ç‰ˆæœ¬ | æ¨èç‰ˆæœ¬ |
|-----|---------|---------|
| Node.js | 18.0+ | 20.x LTS |
| npm | 9.0+ | 10.x |

### æ£€æŸ¥ç¯å¢ƒ

```bash
# æ£€æŸ¥ Node.js ç‰ˆæœ¬
node -v

# æ£€æŸ¥ npm ç‰ˆæœ¬
npm -v
```

### æµè§ˆå™¨å…¼å®¹æ€§

| æµè§ˆå™¨ | æœ€ä½ç‰ˆæœ¬ |
|-------|---------|
| Chrome | 90+ |
| Firefox | 90+ |
| Safari | 14+ |
| Edge | 90+ |

---

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd learn-stock
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

å¯åŠ¨æˆåŠŸåï¼Œç»ˆç«¯ä¼šæ˜¾ç¤ºï¼š

```
  VITE v6.x.x  ready in xxx ms

  âœ  Local:   http://localhost:5173/
  âœ  Network: http://192.168.x.x:5173/
```

### 4. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:5173

---

## éƒ¨ç½²æŒ‡å—

### æ–¹å¼ä¸€ï¼šé™æ€æ–‡ä»¶éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºå®Œæˆåï¼Œ`dist` ç›®å½•åŒ…å«æ‰€æœ‰é™æ€æ–‡ä»¶ã€‚

#### 2. éƒ¨ç½²åˆ° Nginx

```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /path/to/dist;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    # API ä»£ç†ï¼ˆå¦‚æœéœ€è¦ï¼‰
    location /api/ {
        proxy_pass http://your-api-server/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

#### 3. éƒ¨ç½²åˆ° Apache

åœ¨ `dist` ç›®å½•ä¸‹åˆ›å»º `.htaccess` æ–‡ä»¶ï¼š

```apache
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>
```

### æ–¹å¼äºŒï¼šVercel ä¸€é”®éƒ¨ç½²

1. å°†é¡¹ç›®æ¨é€åˆ° GitHub
2. è®¿é—® [Vercel](https://vercel.com)
3. ç‚¹å‡» "New Project"
4. å¯¼å…¥ GitHub ä»“åº“
5. ç‚¹å‡» "Deploy"

### æ–¹å¼ä¸‰ï¼šNetlify éƒ¨ç½²

1. å°†é¡¹ç›®æ¨é€åˆ° GitHub
2. è®¿é—® [Netlify](https://netlify.com)
3. ç‚¹å‡» "New site from Git"
4. é€‰æ‹©ä»“åº“ï¼Œè®¾ç½®ï¼š
   - Build command: `npm run build`
   - Publish directory: `dist`
5. ç‚¹å‡» "Deploy site"

### æ–¹å¼å››ï¼šDocker éƒ¨ç½²

åˆ›å»º `Dockerfile`ï¼š

```dockerfile
# æ„å»ºé˜¶æ®µ
FROM node:20-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

# ç”Ÿäº§é˜¶æ®µ
FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

æ„å»ºå¹¶è¿è¡Œï¼š

```bash
# æ„å»ºé•œåƒ
docker build -t stock-chart .

# è¿è¡Œå®¹å™¨
docker run -d -p 80:80 stock-chart
```

### é¢„è§ˆç”Ÿäº§æ„å»º

æœ¬åœ°é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬ï¼š

```bash
npm run preview
```

---

## ä½¿ç”¨è¯´æ˜

### 1. æœç´¢è‚¡ç¥¨

åœ¨é¡¶éƒ¨æœç´¢æ¡†è¾“å…¥ï¼š
- **è‚¡ç¥¨ä»£ç **ï¼šå¦‚ `600519`ã€`000858`
- **è‚¡ç¥¨åç§°**ï¼šå¦‚ `èŒ…å°`ã€`å¹³å®‰`

### 2. é€‰æ‹©è‚¡ç¥¨

ä»ä¸‹æ‹‰åˆ—è¡¨ä¸­ç‚¹å‡»ç›®æ ‡è‚¡ç¥¨ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è·å–å†å²æ•°æ®ã€‚

### 3. æŸ¥çœ‹å›¾è¡¨

- **ç¼©æ”¾**ï¼šä½¿ç”¨é¡¶éƒ¨ç¼©æ”¾æ»‘å—æˆ– `+`/`-` æŒ‰é’®
- **æ»šåŠ¨**ï¼šå½“å›¾è¡¨æ”¾å¤§åï¼Œæ‹–åŠ¨åº•éƒ¨æ»šåŠ¨æ¡æŸ¥çœ‹ä¸åŒæ—¶é—´æ®µ
- **é‡ç½®**ï¼šç‚¹å‡»"é‡ç½®"æŒ‰é’®æ¢å¤é»˜è®¤è§†å›¾

### 4. æŸ¥çœ‹è¯¦æƒ…

å°†é¼ æ ‡æ‚¬åœåœ¨ä»»æ„èœ¡çƒ›ä¸Šï¼Œä¼šæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯é¢æ¿ï¼š
- ä»·æ ¼ä¿¡æ¯ï¼šå¼€ç›˜ä»·ã€æ”¶ç›˜ä»·ã€æœ€é«˜ä»·ã€æœ€ä½ä»·
- æ¶¨è·Œä¿¡æ¯ï¼šæ¶¨è·Œå¹…ã€æ¶¨è·Œé¢ï¼ˆçº¢æ¶¨ç»¿è·Œï¼‰
- æˆäº¤ä¿¡æ¯ï¼šæˆäº¤é‡ã€æˆäº¤é¢ã€æ¢æ‰‹ç‡

---

## å‹ç¼©å›¾è¯´æ˜

å‹ç¼©å›¾æ˜¯ä¸€ç§ç‹¬ç‰¹çš„è‚¡ç¥¨å¯è§†åŒ–æ–¹å¼ï¼Œç”±æ—¥æœ¬äº¤æ˜“å‘˜å‘æ˜ï¼Œèƒ½å¤ŸåŒæ—¶å±•ç¤ºä»·æ ¼å’Œæˆäº¤é‡ä¿¡æ¯ã€‚

### æ ¸å¿ƒåŸç†

```
ä¼ ç»ŸKçº¿å›¾ï¼šæ‰€æœ‰èœ¡çƒ›å®½åº¦ç›¸åŒ
å‹ç¼©å›¾ï¼š    èœ¡çƒ›å®½åº¦ = æˆäº¤é¢å æ¯”

     â”Œâ”€â”€â”€â”
     â”‚   â”‚  å®½ = æˆäº¤é¢å¤§ï¼ˆèµ„é‡‘å…³æ³¨åº¦é«˜ï¼‰
     â”‚   â”‚  é«˜ = ä»·æ ¼æ³¢åŠ¨å¤§ï¼ˆå¤šç©ºåˆ†æ­§å¤§ï¼‰
     â”‚   â”‚
     â””â”€â”€â”€â”˜
```

### å›¾è¡¨è§£è¯»

| å½¢æ€ | å«ä¹‰ |
|-----|------|
| å®½å¤§çº¢èœ¡çƒ› | æ”¾é‡ä¸Šæ¶¨ï¼Œèµ„é‡‘ç§¯æä¹°å…¥ |
| å®½å¤§ç»¿èœ¡çƒ› | æ”¾é‡ä¸‹è·Œï¼Œèµ„é‡‘ææ…ŒæŠ›å”® |
| çª„å°çº¢èœ¡çƒ› | ç¼©é‡ä¸Šæ¶¨ï¼Œä¸Šæ¶¨åŠ¨åŠ›ä¸è¶³ |
| çª„å°ç»¿èœ¡çƒ› | ç¼©é‡ä¸‹è·Œï¼ŒæŠ›å‹è¾ƒè½» |
| ç‰¹å®½èœ¡çƒ› | æˆäº¤é¢æ˜¾è‘—é«˜äºå¹³å‡ï¼Œéœ€é‡ç‚¹å…³æ³¨ |

### é»„è“çº¿è¯´æ˜

- **é»„è‰²çº¿ï¼ˆå¼€ç›˜ä»·ï¼‰**ï¼šæ˜¾ç¤ºå½“æ—¥å¼€ç›˜ä½ç½®
  - å½“å¼€ç›˜ä»·=æœ€é«˜ä»·æ—¶ï¼Œé¡¶éƒ¨æ˜¾ç¤ºåŠ ç²—é»„çº¿
  - å½“å¼€ç›˜ä»·=æœ€ä½ä»·æ—¶ï¼Œåº•éƒ¨æ˜¾ç¤ºåŠ ç²—é»„çº¿
  
- **è“è‰²çº¿ï¼ˆæ”¶ç›˜ä»·ï¼‰**ï¼šæ˜¾ç¤ºå½“æ—¥æ”¶ç›˜ä½ç½®
  - å½“æ”¶ç›˜ä»·=æœ€é«˜ä»·æ—¶ï¼Œé¡¶éƒ¨æ˜¾ç¤ºåŠ ç²—è“çº¿
  - å½“æ”¶ç›˜ä»·=æœ€ä½ä»·æ—¶ï¼Œåº•éƒ¨æ˜¾ç¤ºåŠ ç²—è“çº¿

---

## é¡¹ç›®ç»“æ„

```
learn-stock/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”‚   â””â”€â”€ vite.svg
â”œâ”€â”€ scripts/                # å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ fetchStockData.ts   # è·å–çœŸå®æ•°æ®è„šæœ¬
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ stockApi.ts     # ä¸œæ–¹è´¢å¯ŒAPIå°è£…
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â””â”€â”€ react.svg
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ SearchBar.tsx   # è‚¡ç¥¨æœç´¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ StockChart.tsx  # å‹ç¼©å›¾ç»„ä»¶ï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”‚   â””â”€â”€ StockInfo.tsx   # è‚¡ç¥¨ä¿¡æ¯é¢æ¿
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ mockData.ts     # æ¨¡æ‹Ÿæ•°æ®ï¼ˆ8åªAè‚¡ï¼‰
â”‚   â”‚   â””â”€â”€ real_600519.ts  # èŒ…å°çœŸå®å†å²æ•°æ®
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ stock.ts        # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ App.tsx             # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ index.css           # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ main.tsx            # å…¥å£æ–‡ä»¶
â”œâ”€â”€ .gitignore
â”œâ”€â”€ eslint.config.js
â”œâ”€â”€ index.html              # HTML æ¨¡æ¿
â”œâ”€â”€ package.json
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ README.md
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tsconfig.app.json
â”œâ”€â”€ tsconfig.node.json
â””â”€â”€ vite.config.ts          # Vite é…ç½®ï¼ˆå«APIä»£ç†ï¼‰
```

---

## APIè¯´æ˜

### æ•°æ®æ¥æº

æœ¬é¡¹ç›®ä½¿ç”¨ä¸œæ–¹è´¢å¯Œç½‘çš„å…¬å¼€APIï¼š

| API | ç”¨é€” | ç«¯ç‚¹ |
|-----|------|-----|
| è‚¡ç¥¨æœç´¢ | æ ¹æ®å…³é”®è¯æœç´¢è‚¡ç¥¨ | `/api/suggest` |
| Kçº¿æ•°æ® | è·å–å†å²Kçº¿æ•°æ® | `/api/kline` |
| è‚¡ç¥¨åˆ—è¡¨ | è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯ | `/api/clist` |

### è·¨åŸŸå¤„ç†

å¼€å‘ç¯å¢ƒé€šè¿‡ Vite ä»£ç†è§£å†³è·¨åŸŸï¼š

```typescript
// vite.config.ts
proxy: {
  '/api': {
    target: 'https://searchapi.eastmoney.com',
    changeOrigin: true,
    secure: false,
  }
}
```

### è·å–çœŸå®æ•°æ®

è¿è¡Œæ•°æ®è·å–è„šæœ¬ï¼š

```bash
# ä¿®æ”¹ scripts/fetchStockData.ts ä¸­çš„è‚¡ç¥¨ä»£ç 
# ç„¶åè¿è¡Œï¼š
npx tsx scripts/fetchStockData.ts
```

---

## å¸¸è§é—®é¢˜

### Q: npm install å¤±è´¥ï¼Ÿ

```bash
# æ¸…é™¤ç¼“å­˜
npm cache clean --force

# åˆ é™¤ node_modules
rm -rf node_modules package-lock.json

# é‡æ–°å®‰è£…
npm install
```

### Q: å›¾è¡¨æ˜¾ç¤ºç©ºç™½ï¼Ÿ

1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
2. ç¡®è®¤å·²é€‰æ‹©è‚¡ç¥¨
3. æ£€æŸ¥ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸ

### Q: API è¯·æ±‚å¤±è´¥ï¼Ÿ

1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. ä¸œæ–¹è´¢å¯ŒAPIå¯èƒ½æœ‰é¢‘ç‡é™åˆ¶
3. å°è¯•ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®è¿›è¡Œæµ‹è¯•

### Q: å¦‚ä½•æ·»åŠ æ–°çš„è‚¡ç¥¨æ•°æ®ï¼Ÿ

ä¿®æ”¹ `src/data/mockData.ts`ï¼š

```typescript
export const mockStocks: Stock[] = [
  {
    info: {
      code: 'ä½ çš„è‚¡ç¥¨ä»£ç ',
      name: 'è‚¡ç¥¨åç§°',
      market: 'SH', // æˆ– 'SZ'
      industry: 'è¡Œä¸š',
      totalShares: æ€»è‚¡æœ¬,
      floatShares: æµé€šè‚¡æœ¬,
    },
    data: [/* è‚¡ç¥¨æ•°æ®æ•°ç»„ */],
  },
  // ...å…¶ä»–è‚¡ç¥¨
];
```

---

## æ³¨æ„äº‹é¡¹

âš ï¸ **é‡è¦å£°æ˜**

- æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨
- æ•°æ®ä»…ä¾›å‚è€ƒï¼Œä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®
- è‚¡å¸‚æœ‰é£é™©ï¼ŒæŠ•èµ„éœ€è°¨æ…
- APIè°ƒç”¨å¯èƒ½å—åˆ°é¢‘ç‡é™åˆ¶

---

## License

[MIT](LICENSE)

---

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
